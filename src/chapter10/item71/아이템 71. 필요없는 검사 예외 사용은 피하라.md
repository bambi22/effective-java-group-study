# 💡 필요 없는 검사 예외 사용은 피하라 

## 검사 예외의 장단점
- 검사 예외는 발생한 문제를 프로그래머가 처리하여 안전성을 높여준다.
- 그러나 과하게 사용하면 호출하는 코드에서는 해당 예외를 처리해줘야하는 부담이 있다.
- 스트림에서 예외를 던지는 메서드를 직접 사용할 수 없기 때문에 자바 8부터 부담이 더욱 커졌다.
> 제대로 사용해도 발생할 수 있는 예외이거나, 프로그래머가 의미 있는 조치를 취할 수 있는 경우라면 괜찮지만   
> 어디에도 해당하지 않는다면 비검사 예외를 사용하는 게 좋다.

## 검사 예외와 비검사 예외 중 어떤 걸 선택해야할까?
- 메서드가 단 하나의 검사 예외만 던질 때 프로그래머에게 지우는 부담이 크다.   
오직 하나의 예외 때문에 API 사용자는 try 블록을 추가해야하고 스트림에서 직접 사용하지 못하게 된다.   
그러니 이런 상황이라면 검사 예외를 안 던지는 방법이 없는지 고민해보자.

```java
// 검사 예외를 던지는 메서드
try {
    obj.action(args);
} catch (TheCheckedException e) {
    
}

// 상태 검사 메서드와 비검사 예외를 던지는 메서드 - 리팩터링
if (obj.actionPermitted(args)) {
   obj.action(args); 
} else {
    // 예외 상황에 대처    
}
```
> 리팩터링 후 더 유연한 API가 되었다.    
> 프래그래머가 이 메서드가 성공한다는 걸 알거나, 실패 시 스레드를 중단하길 원한다면 `obj.action(args);` 이 한 줄로 작성해도 된다.   
> 상태 검사 메서드는 멀티 스레드 환경에서 외부 동기화 없이 접근하거나 외부 요인으로 상태가 변할 수 있다면 적용할 수 없기에 모든 상황에 적절한 리팩터링은 아니다.   

### 💡마무리
> 검사 예외를 남용하면 쓰기 어려운 API가 된다. 호출자가 예외 상황에서 북구할 방법이 없다면 비검사 예외를 던지자.   
> 복구가 가능하고 호출자가 그 처리를 해주길 바란다면, 우선 옵셔널을 반환해도 될지 고민하자.   
> 옵셔널만으로는 상황을 처리하기에 충분한 정보를 제공할 수 없을 때만 검사 예외를 던지자.
